"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4554],{3905:(t,e,a)=>{a.d(e,{Zo:()=>u,kt:()=>h});var r=a(7294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},l=Object.keys(t);for(r=0;r<l.length;r++)a=l[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)a=l[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var o=r.createContext({}),p=function(t){var e=r.useContext(o),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},u=function(t){var e=p(t.components);return r.createElement(o.Provider,{value:e},t.children)},d="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},c=r.forwardRef((function(t,e){var a=t.components,n=t.mdxType,l=t.originalType,o=t.parentName,u=s(t,["components","mdxType","originalType","parentName"]),d=p(a),c=n,h=d["".concat(o,".").concat(c)]||d[c]||m[c]||l;return a?r.createElement(h,i(i({ref:e},u),{},{components:a})):r.createElement(h,i({ref:e},u))}));function h(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var l=a.length,i=new Array(l);i[0]=c;var s={};for(var o in e)hasOwnProperty.call(e,o)&&(s[o]=e[o]);s.originalType=t,s[d]="string"==typeof t?t:n,i[1]=s;for(var p=2;p<l;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},6351:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const l={sidebar_position:3},i="How to use the HashDit API",s={unversionedId:"tutorial",id:"tutorial",title:"How to use the HashDit API",description:"Tutorial",source:"@site/docs/tutorial.md",sourceDirName:".",slug:"/tutorial",permalink:"/hashdit/docs/tutorial",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Data",permalink:"/hashdit/docs/hashdit-api/data"},next:{title:"Risk Level Description",permalink:"/hashdit/docs/risk-level-description"}},o={},p=[{value:"Tutorial",id:"tutorial",level:2},{value:"Conclusion",id:"conclusion",level:2}],u={toc:p};function d(t){let{components:e,...l}=t;return(0,n.kt)("wrapper",(0,r.Z)({},u,l,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"how-to-use-the-hashdit-api"},"How to use the HashDit API"),(0,n.kt)("h2",{id:"tutorial"},"Tutorial"),(0,n.kt)("p",null,"In this tutorial, we will provide a step-by-step guide on how to use the HashDit API using Postman. "),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Prerequisite:")," The service scope of this API is currently limited to users who have applied for access by sending a request to ",(0,n.kt)("a",{parentName:"li",href:"mailto:support@hashdit.com."},"support@hashdit.com.")," The received appid and appsecret are essential to be able to use the API.")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"API Endpoint: ",(0,n.kt)("a",{parentName:"li",href:"https://api.hashdit.io/security-api/public/app/v1/detect"},"https://api.hashdit.io/security-api/public/app/v1/detect"),"  ")),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"After you have received appid and appsecret, you navigate to Postman and generate a request using a Pre-request Script, as shown in the figure below. Make sure that you have specified the following parameters correctly."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Method type should be selected as POST, as shown in step1 in the figure below."),(0,n.kt)("li",{parentName:"ul"},"Specified the correct request URL, as shown in step2 in the below figure."),(0,n.kt)("li",{parentName:"ul"},"Provide a pre-request script."),(0,n.kt)("li",{parentName:"ul"},"Set the required headers.")),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("img",{src:a(83).Z,width:"1600",height:"657"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Pre-Request Script"),": In this script, you will specify the appid, appsecret, uuid, set the body of the request, set the signature, set the headers, and set the global variables."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"In lines 1 to 8, we set values for different variables, these will be then used to set the headers of the request as shown below."),(0,n.kt)("p",{parentName:"li"}," ",(0,n.kt)("img",{src:a(6838).Z,width:"1085",height:"412"}))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"For server authorization, whenever the client calls the server\u2019s restful interface, it is required on the client side to set the following headers as described in the table below to be able to pass the server authorization. "))))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Header"),(0,n.kt)("th",{parentName:"tr",align:null},"Value"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Content-Type"),(0,n.kt)("td",{parentName:"tr",align:null},"application/json;charset=UTF-8"),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"X-Signature-appid"),(0,n.kt)("td",{parentName:"tr",align:null},"appid"),(0,n.kt)("td",{parentName:"tr",align:null},"unique code received after applying at ",(0,n.kt)("a",{parentName:"td",href:"mailto:support@hashdit.com"},"support@hashdit.com"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"X-Signature-timestamp"),(0,n.kt)("td",{parentName:"tr",align:null},"timestamp"),(0,n.kt)("td",{parentName:"tr",align:null},"millisecond")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"X-Signature-nonce"),(0,n.kt)("td",{parentName:"tr",align:null},"nonce"),(0,n.kt)("td",{parentName:"tr",align:null},"Random uuid, replace \u201c-\u201d with \u201c\u201d, 32 byte length")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"X-Signature-signature"),(0,n.kt)("td",{parentName:"tr",align:null},"signature"),(0,n.kt)("td",{parentName:"tr",align:null},"Hash of appsecret, appid, timestamp, nonce, method, uri, query, body. ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"td"},"Note:")," Where uri is the path\uff0cmultiple key-value pair  in query and header should be ",(0,n.kt)("strong",{parentName:"td"},"sorted")," alphabetically by key, comma separated")))),(0,n.kt)("ol",{start:5},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Setting Body of the Request:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"After specifying the pre-request and headers, set the body of your request. To know about the different input fields, parameters, and output details, you can refer to the official documentation.   "),(0,n.kt)("li",{parentName:"ul"},"In this tutorial, we have used the raw format to set the body of our request, as shown in the figure below. However, it is up to you to choose whatever of the supported types you wish to use. As input parameters for the API, we have passed the address and chain_id key-value pairs.\n",(0,n.kt)("img",{src:a(9763).Z,width:"932",height:"250"})),(0,n.kt)("li",{parentName:"ul"},"In the body of the message, if you are wanting to scan a smart contract for a dapp for risk analysis, the passed parameters are as described below")))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Example"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"chain_id"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,n.kt)("td",{parentName:"tr",align:null},"Chain id of the blockchain the contract to check is deployed on"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"56 (BSC Mainnet)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"address"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,n.kt)("td",{parentName:"tr",align:null},"Contract address that needs to be scanned for risk factor"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"0x312bc7eaaf93f1c60dc5afc115fccde161055fb0(No Risk)",(0,n.kt)("br",null),"0x1ffaa3176d63a4889391f628e6f3c934cf00c9ba(Low Risk)",(0,n.kt)("br",null),"0x57eba2d1adf4102051ac8094aec65d48d6c3bfae(Medium Risk)",(0,n.kt)("br",null),"0x4debab03731a326c04f69621c3de3e1bc0b34ff8(High Risk)")))),(0,n.kt)("ol",{start:6},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Send Request:")," click on the Send button to send your request."),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Response:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"If everything goes well, the response received for the contract address (0x57eba2d1adf4102051ac8094aec65d48d6c3bfae0x312bc7eaaf93f1c60dc5afc115fccde161055fb0), the response will be as shown in the figure below.\n",(0,n.kt)("img",{src:a(7084).Z,width:"696",height:"566"})),(0,n.kt)("li",{parentName:"ul"},"The different parameters in the response are as explained in the table below")))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Nullable"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Example"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"status"),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,n.kt)("td",{parentName:"tr",align:null},"Result of operation"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"OK\uff1a The scanning process terminated as expected ",(0,n.kt)("br",null),"ERROR\uff1a Exception thrown or unexpected situation met")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"code"),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,n.kt)("td",{parentName:"tr",align:null},"Result code of operation"),(0,n.kt)("td",{parentName:"tr",align:null},"int"),(0,n.kt)("td",{parentName:"tr",align:null},"00001:verify signature error",(0,n.kt)("br",null)," > appid, timestamp, nonce, signature headers can not be null or empty",(0,n.kt)("br",null),"> nonce is illegal",(0,n.kt)("br",null),"> timestamp has illegal",(0,n.kt)("br",null),"> timestamp is expired",(0,n.kt)("br",null),"> invalid appid",(0,n.kt)("br",null),"> appid has expired",(0,n.kt)("br",null),"> invalid signature",(0,n.kt)("br",null),"> replay request",(0,n.kt)("br",null),"> app is out of count limit",(0,n.kt)("br",null),"00002:unknown server error occurred during verifying signature",(0,n.kt)("br",null),"00003:unknown server error occurred during detection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"Data")),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"The following parameters are part of data")),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"request ID"),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,n.kt)("td",{parentName:"tr",align:null},"Unique request id"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"risk_level"),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,n.kt)("td",{parentName:"tr",align:null},"Likelihood and impact of the risk"),(0,n.kt)("td",{parentName:"tr",align:null},"int"),(0,n.kt)("td",{parentName:"tr",align:null},"5 Significant Risk",(0,n.kt)("br",null),"4 High Risk",(0,n.kt)("br",null),"3 Medium Risk",(0,n.kt)("br",null),"2 Low Risk",(0,n.kt)("br",null),"1 Some Risk",(0,n.kt)("br",null),"0 Very Low Risk")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"has_result"),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,n.kt)("td",{parentName:"tr",align:null},"Whether there is already a definite result, if False it needs to be requested in ","[polling_interval]"," seconds"),(0,n.kt)("td",{parentName:"tr",align:null},"bool"),(0,n.kt)("td",{parentName:"tr",align:null},"True")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"polling_interval"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,n.kt)("td",{parentName:"tr",align:null},"Recommended next request interval seconds"),(0,n.kt)("td",{parentName:"tr",align:null},"long"),(0,n.kt)("td",{parentName:"tr",align:null},"60")))),(0,n.kt)("h2",{id:"conclusion"},"Conclusion"),(0,n.kt)("p",null,"One of the core missions of Hashdit is to provide the everyday Defi investors with essential threat intelligence that will help them in making informed decisions. Investing in Defi can be both highly profitable as well as full of pitfalls at the same time, because of which it is difficult to successfully navigate through this massive landscape for both newbies and experienced investors. To bridge this gap, HashDit aims to provide timely and comprehensive threat intelligence regarding Defi projects, the HashDit Address Query Public API is one such attempt. It can be used to query the risk that may be associated with a token or smart contract due to several different vulnerabilities. In this tutorial, we have provided a step-by-step guide on how to use the API with Postman to check a smart contract's risk factor."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Pre-request Script used in this tutorial")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'var appid = "add your appid";\nvar appSecret = "add your appSecret";\nvar uuid=require(\'uuid\');\nvar timestamp = new Date().getTime();\nvar nonce = uuid().replace(/-/g, \'\');\nconst body=pm.request.body.raw\nvar hash = CryptoJS.HmacSHA256(appid+";"+timestamp+";"+nonce+";"+"POST;/security-api/public/app/v1/detect;"+ body, appSecret)\nvar signature = CryptoJS.enc.Hex.stringify(hash)\n \nconsole.log("signature:" + signature)\npm.globals.set(\'appid\', appid);\npm.globals.set("timestamp", timestamp);\npm.globals.set("signature", signature);\npm.globals.set("nonce", nonce);\n')))}d.isMDXComponent=!0},83:(t,e,a)=>{a.d(e,{Z:()=>r});const r=a.p+"assets/images/tutorial-1-b5a3dc6d50f98412d461955ef1124764.png"},6838:(t,e,a)=>{a.d(e,{Z:()=>r});const r=a.p+"assets/images/tutorial-2-59156a14a8f6bc547421efb88b21afe4.png"},9763:(t,e,a)=>{a.d(e,{Z:()=>r});const r=a.p+"assets/images/tutorial-3-e098e071f33c1ca92f20ae39a703e908.png"},7084:(t,e,a)=>{a.d(e,{Z:()=>r});const r=a.p+"assets/images/tutorial-4-f5fe3590e7e95f04b0542055eb56d586.png"}}]);